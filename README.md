# tesht -- Table-Driven Testing for Bash

- Overview
  - framework for testing Bash functions in scripts
  - follows patterns from Go testing
  - test files are named based on the file they test
  - tests are functions with special names
  - tesht runs all tests in the current directory or just a specified test
- Features
  - Tests are discovered automatically
  - Each test runs independently in its own subshell
  - Per-test & suite-wide pass/fail and timing results
  - Table-driven testing inspired by Go's table tests
  - Assertions (`tesht.AssertGot`, `tesht.AssertRC`)
  - Run-time dependency helpers:
    - HTTP file service with `tesht.StartHttpServer`
    - Temp directory creation with `tesht.MktempDir`
- Installation
  - copy or symlink `tesht` to a directory on your path
- Usage
  - `tesht [test_function]`
    - No arguments: runs all `test_*` in `*_test.bash`
    - With function name: runs only that function & subtests
- Example
   - Uses `tesht.AssertGot`
- Writing Testable Code
  - Organize code into functions
  - Structure script for function loading without execution
    - Use `return 2>/dev/null` after function definitions
- Table-Driven Tests
  - Reuse test logic across cases
  - Example: `greet_test.bash`
    - Define cases as associative arrays
    - Use `tesht.Inherit` and `tesht.Run`
    - Output: subtest results with timing
- Public Functions
  - tesht.Run: run table-driven tests
  - tesht.Inherit: convert array keys/values to locals
  - tesht.AssertGot: compare actual/expected output
  - tesht.AssertRC: check return code
  - tesht.Diff: show unified diff
  - tesht.Log: output message
  - tesht.MktempDir: create temp dir
  - tesht.StartHttpServer: start HTTP server
- License
  - MIT License
